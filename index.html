<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="index.css">
    <title>Document</title>
</head>

<body>
    <div class="container">
        <div class="child"></div>
        <div class="child"></div>
        <div class="child"></div>
        <div class="child"></div>
        <div class="child"></div>
        <div class="child"></div>
        <div class="child"></div>
        <div class="child"></div>
        <div class="child"></div>
        <div class="child"></div>
        <div class="child"></div>
        <div class="child"></div>
        <div class="child"></div>
        <div class="child"></div>
        <div class="child"></div>
        <div class="child"></div>
        <div class="child"></div>
        <div class="child"></div>
    </div>

    <div style="display: flex; justify-content: center;flex-direction: row; align-items: center; margin-top: 20px;z-index: 1000;position: relative;">
        <button id="left-button">Left</button>
        <div class="image-container">
            <img class="image" src="8b9a7378037bd65f4cf0afc4e6d61564--photography-flowers-macro-photography.jpg"
                alt="Image 1">
            <img class="image" src="Portrait-5_1024x1024.jpg" alt="Image 2">
            <img class="image" src="portrait-orientation.jpg" alt="Image 3">
        </div>
        <button id="right-button">Right</button>
    </div>

    <script>
        const container = document.querySelectorAll('.child');
        let NumberOfChild = container.length;
        let buttonClicked = 0;
        let angleToRotate=360/NumberOfChild;
        console.log("container", angleToRotate)

        const images = document.querySelectorAll('.image');
        let currentIndex = 0;
        images[currentIndex].style.opacity = 1;

        let buttons = document.querySelectorAll('.topButtons');

        let leftClicked = 0;
        let righjtClicked = 0;

        let angle = 0;
        container?.forEach((item) => {
            item.style.transform = `rotate(${angle}deg)`;
            angle += angleToRotate;
        })

        document.getElementById('left-button').addEventListener('click', () => {
            if (buttonClicked > -NumberOfChild) {
                buttonClicked--;
                container?.forEach((item) => {
                    let str = item.style.transform;
                    const regex = /(\d+)/;
                    let degree;
                    const match = str.match(regex);
                    if (match) {
                        degree = parseInt(match[0], 10); // Convert the matched string to an integer
                        console.log("degree", degree); // This will output 510
                    }

                    item.style.transform = `rotate(${degree - angleToRotate}deg)`;
                    angle -= angleToRotate;
                })
            }

        });

        document.getElementById('right-button').addEventListener('click', () => {
            if (buttonClicked < NumberOfChild) {
                buttonClicked++;
                container?.forEach((item) => {
                    let str = item.style.transform;
                    const regex = /(\d+)/;
                    let degree;
                    const match = str.match(regex);
                    if (match) {
                        degree = parseInt(match[0], 10); // Convert the matched string to an integer
                        console.log("degree", degree); // This will output 510
                    }
                    item.style.transform = `rotate(${degree + angleToRotate}deg)`;
                    angle += angleToRotate;
                })
            }
        });

    </script>
</body>

</html>
